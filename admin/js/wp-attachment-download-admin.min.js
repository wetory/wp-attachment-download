
(function(a){a(function(){a(".custom_date").datepicker({dateFormat:"dd.mm.yy"});a("#wp_attachment_download_form").submit(function(c){c.preventDefault();var b=a(this).serialize();b=b+"&ajaxrequest=true&submit=Submit+Form";a.ajax({url:params.ajaxurl,type:"post",data:b+"&action=download_attachments",beforeSend:function(){jQuery("#execution-info-spinner").addClass("is-active");a("#execution-info").hide()},success:function(d){a("#execution-info").show();a("#execution-info-title").html(d.title);a("#execution-info-text").html(d.text);window.location.assign(d.zip_file)},error:function(){a("#execution-info-text").html("<h2>Something went wrong.</h2><br>")},complete:function(){jQuery("#execution-info-spinner").removeClass("is-active")},})});a(".affect-preview").change(function(d){var e=a("#"+params.plugin_name+"-post_type").val();var b=a("#"+params.plugin_name+"-published_from").val();var f=a("#"+params.plugin_name+"-published_to").val();var c=a("#"+params.plugin_name+"-acf_field_group").val();a.ajax({url:params.ajaxurl,type:"post",data:{action:"regenerate_preview","wp-attachment-download[post_type]":e,"wp-attachment-download[published_from]":b,"wp-attachment-download[published_to]":f,"wp-attachment-download[acf_field_group]":c,},beforeSend:function(){jQuery("#preview-info-spinner").addClass("is-active");a("#preview-info-block").hide()},success:function(g){a("#preview-info-block").show();a("#preview-info-text").html(g.message);if(g.posts_count>0&&g.attachments_count>0){a("#submit").attr("disabled",false)}else{a("#submit").attr("disabled",true)}},complete:function(){jQuery("#preview-info-spinner").removeClass("is-active")},})})})})(jQuery);